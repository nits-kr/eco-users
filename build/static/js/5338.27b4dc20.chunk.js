"use strict";(self.webpackChunke_commerce_internal_react=self.webpackChunke_commerce_internal_react||[]).push([[5338],{4264:function(t,e,n){n(2791);var i=n(1778),o=n(184);e.Z=function(){return(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("img",{className:"my-3",src:i,alt:"loading"})})}},3199:function(t,e,n){n(2791);var i=n(9806),o=n(1632),l=n(8820),s=n(184);e.Z=function(t){var e=t.rating,n=(t.totalRating,Array.from({length:5},(function(t,n){var r=n+.5;return(0,s.jsx)("span",{children:e>=n+1?(0,s.jsx)(i.G,{icon:o.Tab,style:{color:"#fca103",fontSize:"15px"}},n):e>=r?(0,s.jsx)(i.G,{icon:o.pG1,style:{color:"#fca103",fontSize:"15px"}},n):(0,s.jsx)(l.y5j,{style:{color:"#fca103",fontSize:"18px"}},n)},n)})));return(0,s.jsx)(s.Fragment,{children:n})}},5338:function(t,e,n){n.r(e);var i=n(1413),o=n(3433),l=n(4165),s=n(5861),r=n(9439),a=n(2791),c=n(4264),d=n(7339),u=n(8698),v=n(7689),m=n(1087),f=n(9806),p=n(1632),x=n(3199),h=n(5717),g=n(5048),j=n(1830),b=n.n(j),y=n(184);e.default=function(t){var e,n=(0,g.v9)((function(t){var e;return null===t||void 0===t||null===(e=t.local)||void 0===e?void 0:e.ecomWebtoken})),j=(0,g.v9)((function(t){var e;return null===t||void 0===t||null===(e=t.local)||void 0===e?void 0:e.ecomUserid})),w=(0,d.Pp)(),N=(0,r.Z)(w,1)[0],k=(0,a.useState)(!1),Z=(0,r.Z)(k,2),C=Z[0],_=Z[1],S=(0,d.Au)({ecommercetoken:n}),B=(0,d.A$)(),I=(0,r.Z)(B,2),T=I[0],q=(I[1],(0,d.$B)()),U=(0,r.Z)(q,1)[0],P=(0,a.useState)([]),z=(0,r.Z)(P,2),G=z[0],L=z[1],A=(0,a.useState)([]),Q=(0,r.Z)(A,2),R=Q[0],W=Q[1],O=(0,a.useState)([]),E=(0,r.Z)(O,2),F=(E[0],E[1],(0,a.useState)([])),M=(0,r.Z)(F,2),$=M[0],D=M[1],H=(0,a.useState)([]),V=(0,r.Z)(H,2),J=V[0],K=V[1],X=(0,v.s0)();(0,a.useEffect)((function(){j&&Y(j)}),[j]);var Y=function(){var t=(0,s.Z)((0,l.Z)().mark((function t(){var e,i,o;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={ecomUserId:j,ecommercetoken:n},t.prev=1,t.next=4,N(e);case 4:o=t.sent,console.log("respone cart",o),L(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.carts),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();(0,a.useEffect)((function(){var t=null===R||void 0===R?void 0:R.map((function(){return 1}));K(t)}),[R]);var tt=function(t,e){var n=(0,o.Z)(J);n[t]=e>=0?e:0,K(n)};(0,a.useEffect)((function(){var t,e,n,i;(_(!0),null!==S&&void 0!==S&&null!==(t=S.data)&&void 0!==t&&null!==(e=t.results)&&void 0!==e&&e.productlist)&&(W(null===S||void 0===S||null===(n=S.data)||void 0===n||null===(i=n.results)||void 0===i?void 0:i.productlist),_(!1))}));var et=null===(e=localStorage)||void 0===e?void 0:e.getItem("loginId"),nt=function(){var t=(0,s.Z)((0,l.Z)().mark((function t(e){return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return b().fire({title:"Login Required",text:"Please login before add to wish list.",icon:"info",showCancelButton:!0,confirmButtonColor:"#0da487",confirmButtonText:"Login",cancelButtonText:"Cancel",customClass:{confirmButton:"custom-confirm-button-class me-3"}}).then((function(t){t.isConfirmed&&X("/login")})),t.abrupt("return");case 3:return t.prev=3,{product_Id:null===e||void 0===e?void 0:e._id,userId:et,like:!0},t.next=7,T({ecommercetoken:n,ecomUserId:null===e||void 0===e?void 0:e._id});case 7:t.sent&&X("/wishlist"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),it=function(){var t=(0,s.Z)((0,l.Z)().mark((function t(e){var i,s,r,a;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return b().fire({title:"Login Required",text:"Please login before add to compare list.",icon:"info",showCancelButton:!0,confirmButtonColor:"#0da487",confirmButtonText:"Login",cancelButtonText:"Cancel",customClass:{confirmButton:"custom-confirm-button-class me-3"}}).then((function(t){t.isConfirmed&&X("/login")})),t.abrupt("return");case 3:return t.prev=3,t.next=6,(0,u.Fe)(e._id);case 6:if(i=t.sent,s=i.data,!(r=i.error)){t.next=12;break}return console.log(r),t.abrupt("return");case 12:a=[].concat((0,o.Z)($),[s]),D(a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e){return t.apply(this,arguments)}}(),ot=function(){var t=(0,s.Z)((0,l.Z)().mark((function t(e,i,o,s,r){var a;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return b().fire({title:"Login Required",text:"Please login before add to cart.",icon:"info",showCancelButton:!0,confirmButtonColor:"#0da487",confirmButtonText:"Login",cancelButtonText:"Cancel",customClass:{confirmButton:"custom-confirm-button-class me-3"}}).then((function(t){t.isConfirmed&&X("/login")})),t.abrupt("return");case 3:return console.log("item added id",null===i||void 0===i?void 0:i._id),e.preventDefault(),a={product_Id:i._id,quantity:J[s],Price:o*J[s],varient_Id:r,user_Id:j,ecommercetoken:n},t.prev=6,t.next=9,U(a);case 9:t.sent,X("/cart"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e,n,i,o,l){return t.apply(this,arguments)}}();return window.innerWidth,(0,y.jsx)(y.Fragment,{children:C?(0,y.jsx)(c.Z,{}):(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("section",{className:"product-list-section section-b-space",style:{display:(null===R||void 0===R?void 0:R.length)>0?"":"none"},children:(0,y.jsxs)("div",{className:"container-fluid-lg",children:[(0,y.jsxs)("div",{className:"title",children:[(0,y.jsx)("h2",{children:"Trending Products"}),(0,y.jsx)("span",{className:"title-leaf",children:(0,y.jsx)("svg",{className:"icon-width",children:(0,y.jsx)("use",{xlinkHref:"../assets/svg/leaf.svg#leaf"})})})]}),(0,y.jsx)("div",{className:"col-12 wow fadeInUp",children:(0,y.jsx)("div",{className:"row g-sm-4 g-3 row-cols-xxl-4 row-cols-xl-3 row-cols-lg-2 row-cols-md-3 row-cols-2 product-list-section heading11",children:(0,y.jsx)("div",{className:"heading11 mb-5",children:(0,y.jsx)(h.Z,(0,i.Z)((0,i.Z)({},{dots:!1,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,autoplay:!0,centerMode:!0,focusOnSelect:!0,arrows:!1,lazyLoad:"ondemand"}),{},{children:null===R||void 0===R?void 0:R.map((function(t,e){var n,i,o,l,s,r,a,c,d,u,v,h,g,j,b,w,N=(null===t||void 0===t||null===(n=t.productDetails)||void 0===n||null===(i=n[0])||void 0===i||null===(o=i.ratings)||void 0===o?void 0:o.reduce((function(t,e){return t+(null===e||void 0===e?void 0:e.star)}),0))/(null===t||void 0===t||null===(l=t.productDetails)||void 0===l||null===(s=l[0])||void 0===s||null===(r=s.ratings)||void 0===r?void 0:r.length),k=null===G||void 0===G?void 0:G.some((function(e){var n;return(null===e||void 0===e||null===(n=e.product_Id)||void 0===n?void 0:n._id)===(null===t||void 0===t?void 0:t._id)})),Z=null===t||void 0===t||null===(a=t.varient)||void 0===a?void 0:a.product_Pic[0];return(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"product-box-3 h-100 wow fadeInUp my-2",style:{width:"270px",height:"270px"},children:[(0,y.jsx)("div",{className:"product-header",children:(0,y.jsxs)("div",{className:"product-image",children:[(0,y.jsx)(m.rU,{to:"/product-details-page/".concat(null===t||void 0===t?void 0:t._id),children:(0,y.jsx)("img",{src:Z,className:"img-fluid  lazyload mb-2",alt:""})}),(0,y.jsxs)("ul",{className:"product-option",children:[(0,y.jsx)("li",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"View",children:(0,y.jsx)(m.rU,{to:"/product-details-page/".concat(null===t||void 0===t?void 0:t._id),onClick:function(){setTimeout((function(){var t,e;null===(t=window)||void 0===t||null===(e=t.location)||void 0===e||e.reload()}),500)},children:(0,y.jsx)(f.G,{icon:p.Mdf})})}),(0,y.jsx)("li",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Compare",onClick:function(){return it(t)},children:(0,y.jsx)(m.rU,{to:"/compare",children:(0,y.jsx)(f.G,{icon:p.T80})})}),(0,y.jsx)("li",{"data-bs-toggle":"tooltip","data-bs-placement":"top",children:!1===(null===t||void 0===t?void 0:t.like)?(0,y.jsx)(m.rU,{className:"btn p-0 position-relative header-wishlist me-2",to:"#",title3:"Wishlist",onClick:function(){return nt(t)},children:(0,y.jsx)(f.G,{icon:p.m6i,style:{fontSize:"20px",color:"black"},"data-tip":"Add to Wishlist","data-for":"wishlist-tooltip",onMouseEnter:function(t){t.currentTarget.style.color="red"},onMouseLeave:function(t){t.currentTarget.style.color="black"}})}):(0,y.jsx)(m.rU,{className:"btn p-0 position-relative header-wishlist me-2",to:"#",title5:"Wishlist",disabled:!0,style:{cursor:"not-allowed"},children:(0,y.jsx)(f.G,{icon:p.m6i,style:{fontSize:"20px",color:"red"},"data-tip":"Add to Wishlist","data-for":"wishlist-tooltip"})})})]})]})}),(0,y.jsx)("div",{className:"product-footer",children:(0,y.jsxs)("div",{className:"product-detail",children:[(0,y.jsx)(m.rU,{to:"/product",children:(0,y.jsx)("h5",{className:"name",children:(null===t||void 0===t||null===(c=t.productName_en)||void 0===c?void 0:c.slice(0,20))+((null===t||void 0===t?void 0:t.productName_en.length)>20?"...":"")})}),(0,y.jsxs)("div",{className:"product-rating mt-2",children:[(0,y.jsx)(x.Z,{rating:N||0,totalRating:t.totalRating}),(0,y.jsxs)("span",{children:[" ",null===t||void 0===t||null===(d=t.ratings)||void 0===d?void 0:d.length," reviews "]})]}),(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)("div",{children:(0,y.jsx)("h6",{className:"unit",style:{margin:"0px",fontSize:"15px"},children:(null===t||void 0===t||null===(u=t.varient)||void 0===u?void 0:u.stockQuantity)>0?(null===t||void 0===t||null===(v=t.varient)||void 0===v?void 0:v.stockQuantity)<=5?(0,y.jsx)("span",{style:{color:"rgb(199, 0, 85)"},children:"Only few left"}):(null===t||void 0===t||null===(h=t.varient)||void 0===h?void 0:h.stockQuantity)<=10?(0,y.jsxs)("span",{style:{color:"rgb(199, 0, 85)"},children:["Only ",null===t||void 0===t||null===(g=t.varient)||void 0===g?void 0:g.stockQuantity," left"]}):(0,y.jsx)("span",{style:{color:"green"},children:"In Stock"}):(0,y.jsx)("span",{style:{color:"red"},children:"Out Of Stock"})})}),(null===t||void 0===t||null===(j=t.varient)||void 0===j?void 0:j.stockQuantity)<=0?(0,y.jsx)("div",{className:" mt-3",children:(0,y.jsx)("div",{className:"cart_qty qty-box product-qty",children:(0,y.jsxs)("div",{className:"input-group",style:{alignItems:"center"},children:[(0,y.jsx)("button",{type:"button",className:"qty-left-minus","data-type":"minus","data-field":"",disabled:!0,style:{cursor:"not-allowed"},children:(0,y.jsx)("i",{className:"fa fa-minus","aria-hidden":"true"})}),(0,y.jsxs)("div",{className:"m-2",children:[" ",J[e]?J[e]:"0"]}),(0,y.jsx)("button",{type:"button",className:"qty-right-plus","data-type":"plus","data-field":"",disabled:!0,style:{cursor:"not-allowed"},children:(0,y.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})})]})})}):(0,y.jsx)("div",{className:" mt-3",children:(0,y.jsx)("div",{className:"cart_qty qty-box product-qty",children:(0,y.jsxs)("div",{className:"input-group",style:{alignItems:"center"},children:[(0,y.jsx)("button",{type:"button",className:"qty-left-minus","data-type":"minus","data-field":"",onClick:function(){return tt(e,J[e]-1)},children:(0,y.jsx)("i",{className:"fa fa-minus","aria-hidden":"true"})}),(0,y.jsxs)("div",{className:"m-2",children:[" ",J[e]?J[e]:"1"]}),(0,y.jsx)("button",{type:"button",className:"qty-right-plus","data-type":"plus","data-field":"",onClick:function(){return tt(e,J[e]+1)},disabled:J[e]===(null===t||void 0===t?void 0:t.stockQuantity),children:(0,y.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})})]})})})]}),(0,y.jsxs)("h5",{className:"price",children:[(0,y.jsxs)("span",{className:"theme-color",children:["$",null===t||void 0===t||null===(b=t.varient)||void 0===b?void 0:b.Price]})," ",(0,y.jsxs)("del",{children:["$",null===t||void 0===t||null===(w=t.varient)||void 0===w?void 0:w.oldPrice," "]})]}),k?(0,y.jsx)("div",{className:"add-to-cart-box bg-white mt-2",children:(0,y.jsx)("button",{className:"btn btn-add-cart addcart-button",children:(0,y.jsx)(m.rU,{to:"/cart",children:"Go To Cart"})})}):(0,y.jsx)("div",{className:"add-to-cart-box bg-white mt-2",children:(0,y.jsx)("button",{className:"btn btn-add-cart addcart-button",children:(0,y.jsx)(m.rU,{to:"#",onClick:function(n){var i,o;return ot(n,t,null===t||void 0===t||null===(i=t.varient)||void 0===i?void 0:i.Price,e,null===t||void 0===t||null===(o=t.varient)||void 0===o?void 0:o._id)},children:"Add To Cart"})})})]})})]})},e)}))}))})})})]})})})})}},1778:function(t,e,n){t.exports=n.p+"static/media/loading.31352d61181e65ea668f.gif"}}]);
//# sourceMappingURL=5338.27b4dc20.chunk.js.map